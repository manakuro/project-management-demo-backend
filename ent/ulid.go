// Code generated by entc, DO NOT EDIT.

package ent

import (
	"context"
	"fmt"
	"project-management-demo-backend/ent/schema/ulid"
	"project-management-demo-backend/ent/testtodo"
	"project-management-demo-backend/ent/testuser"
)

// prefixMap maps ULID prefixes to table names.
var prefixMap = map[ulid.ID]string{
	"TD": testtodo.Table,
	"TU": testuser.Table,
}

// IDToType maps a ulid.ID to the underlying table.
func IDToType(ctx context.Context, id ulid.ID) (string, error) {
	if len(id) < 2 {
		return "", fmt.Errorf("IDToType: id too short")
	}
	prefix := id[:2]
	typ := prefixMap[prefix]
	if typ == "" {
		return "", fmt.Errorf("IDToType: could not map prefix '%s' to a type", prefix)
	}
	return typ, nil
}
